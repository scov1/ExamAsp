@model ExamAsp.Models.BookModel
<link href="~/Content/style.css" rel="stylesheet" />
@{
    ViewBag.Title = "Index";
    
    List<ExamAsp.Models.AuthorModel> authors = (List<ExamAsp.Models.AuthorModel>)ViewData["authors"];
    List<ExamAsp.Models.GenreModel> genres = (List<ExamAsp.Models.GenreModel>)ViewData["genres"];

}

<h2>Index</h2>


<div class="btn_create">
    @Html.ActionLink("Создать", "Edit", "Book")
</div>

<div class="block1">
    <table>
        <tbody>
            @foreach (var item in ViewBag.Books)
            {
                string author = authors.Where(a => a.Id == item.AuthorId).First().FirstName + " " + authors.Where(a => a.Id == item.AuthorId).First().LastName;
                string genre = genres.Where(g => g.Id == item.GenreId).First().Name;

                <tr>
                    <td height="40px" colspan="2" valign="bottom"> <h2>@item.Title</h2></td>
                </tr>

                <tr>

                    <td>@item.ImageData</td>
                    <td valign="top">
                        <p>
                            <b>Автор: @author </b>
                        </p>


                        <p>
                            <b>Жанр: @genre </b>
                        </p>



                        <p>
                            <b>Страниц: @item.Pages </b>
                        </p>
                    </td>

                </tr>
 
             }


                    </tbody>
                </table>
            </div>







                            @*string author = authors.Where(a => a.Id == item.AuthorId).First().FirstName + " " + authors.Where(a => a.Id == item.AuthorId).First().LastName;
                            string genre = genres.Where(g => g.Id == item.GenreId).First().Name;

                    <table>

                        @author
                        @genre
                        @item.Pages

                        @Html.ActionLink("Редактировать", "Edit", "Book", new { id = @item.Id }, null)
                        @Html.ActionLink("Удалить", "Delete", "Book", new { id = @item.Id }, null)

                    </table>

                    }
            </table>

                <div>
                    @Html.ActionLink("Back to List", "Index")
                </div>

                @section Scripts {
                    @Scripts.Render("~/bundles/jqueryval")
                }*@
